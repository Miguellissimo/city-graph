!function(){function t(){navigator.geolocation.getCurrentPosition(function(t){var o=new google.maps.LatLng(t.coords.latitude,t.coords.longitude);e.setCenter(o)})}function o(t){var o=t.latLng.lat(),n=t.latLng.lng();e.setCenter(t.latLng),e.setZoom(10),GoogleMapsFunctions.getCityNameFromCoordinates(o,n,function(t){console.log(t),InstagramFunctions.getRecentImages(t,g,function(t){function g(t){return math.matrix([[math.cos(t),math.sin(t)],[-math.sin(t),math.cos(t)]])}if(a.length>0){for(var i=0;i<a.length;i++)a[i].setMap(null);a=[]}for(var l=[.3,0],r=math.PI/4,s=[],c=0;c<2*math.PI;c+=r){var m=math.multiply(g(c),l);m._data[0]=m._data[0]/2,s.push(math.add(m,[o,n]))}for(console.log(s),c=0;c<s.length;c++){var h=new google.maps.Marker({position:new google.maps.LatLng(s[c]._data[0],s[c]._data[1]),map:e,icon:t[c][1]});a.push(h),h.postUrl=t[c][0],h.addListener("click",function(){window.open(this.postUrl)})}})})}function n(){var n={center:new google.maps.LatLng(0,0),zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP},g=document.getElementById("googleMap");e=new google.maps.Map(g,n),t(),e.addListener("zoom_changed",function(){if(a.length>0){for(var t=0;t<a.length;t++)a[t].setMap(null);a=[]}}),google.maps.event.addListener(e,"click",o);var i=$(window).height()-$("header").height()-$(".searchControls").height();$("#googleMap").height(i)}var e,a=[],g=8;$(document).ready(function(){n()})}();