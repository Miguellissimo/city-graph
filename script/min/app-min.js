!function(){function t(){navigator.geolocation.getCurrentPosition(function(t){var o=new google.maps.LatLng(t.coords.latitude,t.coords.longitude);e.setCenter(o)})}function o(t){for(var t=this,o=t.getPosition(),n=t.originalLat-o.lat(),a=t.originalLng-o.lng(),e=n/50,g=a/50,i=0;50>i;i++)setTimeout(function(){var o=t.getPosition().lat()+e,n=t.getPosition().lng()+g;t.setPosition(new google.maps.LatLng(o,n))},50)}function n(t){var n=t.latLng.lat(),a=t.latLng.lng();e.setCenter(t.latLng),e.setZoom(10),GoogleMapsFunctions.getCityNameFromCoordinates(n,a,function(t){console.log(t),InstagramFunctions.getRecentImages(t,i,function(t){function i(t){return math.matrix([[math.cos(t),math.sin(t)],[-math.sin(t),math.cos(t)]])}if(g.length>0){for(var l=0;l<g.length;l++)g[l].setMap(null);g=[]}for(var r=[.3,0],s=math.PI/4,c=[],m=0;m<2*math.PI;m+=s){var h=math.multiply(i(m),r);h._data[0]=h._data[0]/2,c.push(math.add(h,[n,a]))}for(console.log(c),m=0;m<c.length;m++){var d=new google.maps.Marker({position:new google.maps.LatLng(c[m]._data[0],c[m]._data[1]),map:e,icon:t[m][1]});g.push(d),d.postUrl=t[m][0],d.originalLat=n,d.originalLng=a,d.addListener("click",o)}})})}function a(){var o={center:new google.maps.LatLng(0,0),zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP},a=document.getElementById("googleMap");e=new google.maps.Map(a,o),t(),e.addListener("zoom_changed",function(){if(g.length>0){for(var t=0;t<g.length;t++)g[t].setMap(null);g=[]}}),google.maps.event.addListener(e,"click",n);var i=$(window).height()-$("header").height()-$(".searchControls").height();$("#googleMap").height(i)}var e,g=[],i=8;$(document).ready(function(){a()})}();